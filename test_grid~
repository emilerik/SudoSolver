#lang racket
(require "sudoku_init.rkt")
(require racket/gui/base)

(define h 270)
(define w 270)

(define *window* (new frame%
                      [width w]
                      [height h]
                      [label "SudoSolver"]))

(send *window* show #t)

(define grid
  (flatten (map
   (lambda (hpanel)
     (map
      (lambda (vpanel) 
        (new vertical-panel%
             [parent hpanel]
             [style (list 'border)]))
      (range 0 9)))
     (map
      (lambda (i)
        (new horizontal-panel%
             [parent *window*]))
      (range 0 9)))))

(define control-event (new control-event%
                           [event-type '(text-field)]))

(define (make-text-fields)
  (for-each
   (lambda (i)
    (new text-field%
       [parent (list-ref grid i)]
       [label " "]
       [stretchable-width (/ w 9)]
       [stretchable-height (/ h 9)]
       [callback
        (lambda (this control-event)
          ;(send brd set-value! i (send this get-value)))
          (send (list-ref brd i) set-value! (send this get-value)))]))
   (range 0 81)))

(make-text-fields)
